"use strict";
var express = require("express");
var DailyTimerController = (function () {
    function DailyTimerController(logger, path, service) {
        var _this = this;
        this.loadRoutes = function () {
            _this.router.get("/", _this.getAllDailyTimers);
            _this.router.post("/", _this.createNewDailyTimer);
            _this.router.put("/", _this.updateDailyTimer);
            _this.router.delete("/", _this.deleteDailyTimer);
            _this.logger.info("DailyTimerController |", "routes loaded");
        };
        this.getAllDailyTimers = function (req, res, next) {
            _this.service.read()
                .then(function (response) { return res.status(200).send(response); })
                .catch(function (response) { return res.status(400).send(response); });
        };
        this.createNewDailyTimer = function (req, res, next) {
            _this.service.create(req.body)
                .then(function (response) { return res.status(200).send(response); })
                .catch(function (response) { return res.status(400).send(response); });
        };
        this.updateDailyTimer = function (req, res, next) {
            _this.service.update(req.params.id, req.body)
                .then(function (response) { return res.status(200).send(response); })
                .catch(function (response) { return res.status(400).send(response); });
        };
        this.deleteDailyTimer = function (req, res, next) {
            _this.service.delete(req.params.id)
                .then(function (response) { return res.status(200).send(response); })
                .catch(function (response) { return res.status(400).send(response); });
        };
        this.path = path;
        this.router = express.Router();
        this.logger = logger;
        this.service = service;
        this.loadRoutes();
    }
    return DailyTimerController;
}());
exports.__esModule = true;
exports["default"] = DailyTimerController;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhaWx5VGltZXJDb250cm9sbGVyL2RhaWx5VGltZXJDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFZLE9BQU8sV0FBTSxTQUFTLENBQUMsQ0FBQTtBQU9uQztJQU9FLDhCQUFZLE1BQWUsRUFBRSxJQUFZLEVBQUUsT0FBaUI7UUFQOUQsaUJBZ0RDO1FBaENTLGVBQVUsR0FBRztZQUNuQixLQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDN0MsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ2hELEtBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUM1QyxLQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFL0MsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsd0JBQXdCLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxDQUFBO1FBRU8sc0JBQWlCLEdBQUcsVUFBQyxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBMEI7WUFDbEcsS0FBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7aUJBQ2xCLElBQUksQ0FBQyxVQUFDLFFBQW1CLElBQUssT0FBQSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBOUIsQ0FBOEIsQ0FBQztpQkFDN0QsS0FBSyxDQUFDLFVBQUMsUUFBbUIsSUFBSyxPQUFBLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUE5QixDQUE4QixDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFBO1FBRU8sd0JBQW1CLEdBQUcsVUFBQyxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBMEI7WUFDcEcsS0FBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztpQkFDNUIsSUFBSSxDQUFDLFVBQUMsUUFBbUIsSUFBSyxPQUFBLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUE5QixDQUE4QixDQUFDO2lCQUM3RCxLQUFLLENBQUMsVUFBQyxRQUFtQixJQUFLLE9BQUEsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQTlCLENBQThCLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUE7UUFFTyxxQkFBZ0IsR0FBRyxVQUFDLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUEwQjtZQUNqRyxLQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDO2lCQUMzQyxJQUFJLENBQUMsVUFBQyxRQUFtQixJQUFLLE9BQUEsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQTlCLENBQThCLENBQUM7aUJBQzdELEtBQUssQ0FBQyxVQUFDLFFBQW1CLElBQUssT0FBQSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBOUIsQ0FBOEIsQ0FBQyxDQUFDO1FBQ2xFLENBQUMsQ0FBQTtRQUVPLHFCQUFnQixHQUFHLFVBQUMsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQTBCO1lBQ2pHLEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO2lCQUNqQyxJQUFJLENBQUMsVUFBQyxRQUFtQixJQUFLLE9BQUEsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQTlCLENBQThCLENBQUM7aUJBQzdELEtBQUssQ0FBQyxVQUFDLFFBQW1CLElBQUssT0FBQSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBOUIsQ0FBOEIsQ0FBQyxDQUFDO1FBQ2xFLENBQUMsQ0FBQTtRQXZDQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMvQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUV2QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQWtDSCwyQkFBQztBQUFELENBaERBLEFBZ0RDLElBQUE7QUFoREQ7eUNBZ0RDLENBQUEiLCJmaWxlIjoiZGFpbHlUaW1lckNvbnRyb2xsZXIvZGFpbHlUaW1lckNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5cbmltcG9ydCB7IElDb250cm9sbGVyLCBJTG9nZ2VyLCBJU2VydmljZSwgSVJlc3BvbnNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaW50ZXJmYWNlcy5kLnRzXCI7XG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgRGFpbHlUaW1lciBjb250cm9sbGVyIGFuZCByb3V0ZXMgdHJpZ2VyIGRhdGEuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhaWx5VGltZXJDb250cm9sbGVyIGltcGxlbWVudHMgSUNvbnRyb2xsZXIge1xuXG4gIHB1YmxpYyBwYXRoOiBzdHJpbmc7XG4gIHB1YmxpYyByb3V0ZXI6IGV4cHJlc3MuUm91dGVyO1xuICBwdWJsaWMgbG9nZ2VyOiBJTG9nZ2VyO1xuICBwdWJsaWMgc2VydmljZTogSVNlcnZpY2U7XG5cbiAgY29uc3RydWN0b3IobG9nZ2VyOiBJTG9nZ2VyLCBwYXRoOiBzdHJpbmcsIHNlcnZpY2U6IElTZXJ2aWNlKSB7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcblxuICAgIHRoaXMubG9hZFJvdXRlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkUm91dGVzID0gKCkgPT4ge1xuICAgIHRoaXMucm91dGVyLmdldChcIi9cIiwgdGhpcy5nZXRBbGxEYWlseVRpbWVycyk7XG4gICAgdGhpcy5yb3V0ZXIucG9zdChcIi9cIiwgdGhpcy5jcmVhdGVOZXdEYWlseVRpbWVyKTtcbiAgICB0aGlzLnJvdXRlci5wdXQoXCIvXCIsIHRoaXMudXBkYXRlRGFpbHlUaW1lcik7XG4gICAgdGhpcy5yb3V0ZXIuZGVsZXRlKFwiL1wiLCB0aGlzLmRlbGV0ZURhaWx5VGltZXIpO1xuXG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcIkRhaWx5VGltZXJDb250cm9sbGVyIHxcIiwgXCJyb3V0ZXMgbG9hZGVkXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRBbGxEYWlseVRpbWVycyA9IChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xuICAgIHRoaXMuc2VydmljZS5yZWFkKClcbiAgICAudGhlbigocmVzcG9uc2U6IElSZXNwb25zZSkgPT4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVzcG9uc2UpKVxuICAgIC5jYXRjaCgocmVzcG9uc2U6IElSZXNwb25zZSkgPT4gcmVzLnN0YXR1cyg0MDApLnNlbmQocmVzcG9uc2UpKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTmV3RGFpbHlUaW1lciA9IChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xuICAgIHRoaXMuc2VydmljZS5jcmVhdGUocmVxLmJvZHkpXG4gICAgLnRoZW4oKHJlc3BvbnNlOiBJUmVzcG9uc2UpID0+IHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3BvbnNlKSlcbiAgICAuY2F0Y2goKHJlc3BvbnNlOiBJUmVzcG9uc2UpID0+IHJlcy5zdGF0dXMoNDAwKS5zZW5kKHJlc3BvbnNlKSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZURhaWx5VGltZXIgPSAocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24pID0+IHtcbiAgICB0aGlzLnNlcnZpY2UudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgIC50aGVuKChyZXNwb25zZTogSVJlc3BvbnNlKSA9PiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXNwb25zZSkpXG4gICAgLmNhdGNoKChyZXNwb25zZTogSVJlc3BvbnNlKSA9PiByZXMuc3RhdHVzKDQwMCkuc2VuZChyZXNwb25zZSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWxldGVEYWlseVRpbWVyID0gKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgdGhpcy5zZXJ2aWNlLmRlbGV0ZShyZXEucGFyYW1zLmlkKVxuICAgIC50aGVuKChyZXNwb25zZTogSVJlc3BvbnNlKSA9PiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXNwb25zZSkpXG4gICAgLmNhdGNoKChyZXNwb25zZTogSVJlc3BvbnNlKSA9PiByZXMuc3RhdHVzKDQwMCkuc2VuZChyZXNwb25zZSkpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
